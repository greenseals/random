<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì¹´í…Œê³ ë¦¬ ëŒë¦¼íŒ</title>
  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
    }
    canvas {
      border-radius: 50%;
      margin-top: 20px;
    }
    select, button {
      margin: 10px;
      padding: 8px 12px;
      font-size: 14px;
    }
    .result {
      margin-top: 15px;
      font-size: 18px;
      font-weight: bold;
    }
    .result a {
      color: blue;
      text-decoration: underline;
    }
  </style>
</head>
<body>

<h1>ì¹´í…Œê³ ë¦¬ ëŒë¦¼íŒ</h1>

<select id="categorySelect">
  <option value="TYPE">ì¢…ë¥˜</option>
  <option value="AR">ëŒê²©ì†Œì´</option>
  <option value="LMG">ê²½ê¸°ê´€ì´</option>
  <option value="SMG">ê¸°ê´€ë‹¨ì´</option>
  <option value="DMR">ì§€ì •ì‚¬ìˆ˜ì†Œì´</option>
  <option value="SR">ì €ê²©ì†Œì´</option>
  <option value="Shot">ì‚°íƒ„ì´</option>
  <option value="CB">ì¹´ë¹ˆ</option>
  <option value="Pis">ê¶Œì´</option>
  <option value="ALL">ëª¨ë“  ì´</option>
</select>

<br>

<canvas id="wheel" width="250" height="250"></canvas>

<br>

<button id="spinBtn">ëŒë¦¬ê¸°</button>

<div class="result" id="result"></div>

<script>
  const categories = {
    TYPE: ["ëŒê²©ì†Œì´", "ê²½ê¸°ê´€ì´", "ê¸°ê´€ë‹¨ì´", "ì§€ì •ì‚¬ìˆ˜ì†Œì´", "ì €ê²©ì†Œì´", "ì‚°íƒ„ì´", "ì¹´ë¹ˆ", "ê¶Œì´"],
    AR: ["M4", "AK", "SCAR"],
    LMG: ["M249", "PKM"],
    SMG: ["MP5", "UZI"],
    DMR: ["SKS", "MK12"],
    SR: ["AWM", "M24"],
    Shot: ["S12K", "DBS"],
    CB: ["M4 CQB"],
    Pis: ["Glock", "Deagle"],
    ALL: ["M4", "AK", "MP5", "AWM", "Glock"]
  };

  const colors = ["#EBEB23", "#C7D6DB", "#C6D2BE", "#83B1C9"];
  const canvas = document.getElementById("wheel");
  const ctx = canvas.getContext("2d");
  const radius = canvas.width / 2;
  const result = document.getElementById("result");

  let items = categories.TYPE;
  let rotation = 0;

  function drawWheel() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    const angle = (2 * Math.PI) / items.length;

    items.forEach((item, i) => {
      ctx.beginPath();
      ctx.moveTo(radius, radius);
      ctx.arc(radius, radius, radius, angle * i + rotation, angle * (i + 1) + rotation);

      ctx.fillStyle = colors[i % colors.length];
      ctx.fill();

      ctx.lineWidth = 3;           
      ctx.strokeStyle = "#000";    
      ctx.stroke();

      ctx.save();
      ctx.translate(radius, radius);
      ctx.rotate(angle * i + angle / 2 + rotation);
      ctx.textAlign = "right";
      ctx.fillStyle = "#000";
      ctx.font = "14px Arial";
      ctx.fillText(item, radius - 10, 5);
      ctx.restore();
    });
  }

  drawWheel();

  document.getElementById("categorySelect").addEventListener("change", e => {
    items = categories[e.target.value];
    rotation = 0;
    result.innerHTML = "";
    drawWheel();
  });

  document.getElementById("spinBtn").addEventListener("click", () => {
    rotation += Math.random() * Math.PI * 4 + Math.PI * 4;
    drawWheel();

    const angle = (2 * Math.PI) / items.length;
    const selected = items.length - Math.floor((rotation % (2 * Math.PI)) / angle) - 1;

    // ğŸ”¹ PC IP ê¸°ë°˜ ë§í¬: í°ì—ì„œë„ ì ‘ì† ê°€ëŠ¥
    // ì—¬ê¸°ì„œ 192.168.0.5 ë¥¼ ìì‹ ì˜ PC IPv4 ì£¼ì†Œë¡œ ë°”ê¿”ì•¼ í•¨
    const repoURL = "https://greenseals.github.io/repo-name";
    const linkUrl = `${repoURL}/${encodeURIComponent(items[selected])}.html`;


    result.innerHTML = `ê²°ê³¼: <a href="${linkUrl}" target="_blank">${items[selected]}</a>`;
  });
</script>

</body>
</html>
